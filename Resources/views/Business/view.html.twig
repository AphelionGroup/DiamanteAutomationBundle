{% extends 'DiamanteAutomationBundle:Rule:view.html.twig' %}

{% oro_title_set({params : {"%rule.name%": entity.name|default('diamante.automation.common.not_available'|trans) }}) %}

{% block navButtons %}
    {% if resource_granted('CREATE', 'Entity:DiamanteAutomationBundle:BusinessRule') %}
        {{ UI.button({
            'path': path('diamante_business_create', {'id': entity.id}),
            'iCss': 'icon-plus',
            'title': 'diamante.automation.rule.actions.add'|trans,
            'label': 'diamante.automation.rule.actions.add'|trans
        }) }}
    {% endif %}
    {% if resource_granted('EDIT', entity) %}
        {{ UI.button({
            'path': path('diamante_business_update', {'id': entity.id}),
            'iCss': 'icon-edit',
            'title': 'diamante.automation.rule.actions.edit'|trans,
            'label': 'diamante.automation.ui.edit'|trans
        }) }}
    {% endif %}

    {% if resource_granted('DELETE', entity) %}
        {{ UI.deleteButton({
            'dataUrl': path('diamante_business_delete', {'id': entity.id}),
            'dataRedirect': path('diamante_business_list'),
            'aCss': 'no-hash remove-button',
            'dataId': entity.id,
            'id': 'btn-remove-account',
            'dataMessage': 'diamante.automation.rule.messages.delete.query'|trans,
            'successMessage': 'diamante.automation.rule.messages.delete.success'|trans,
            'title': 'diamante.automation.rule.actions.remove'|trans,
            'label': 'diamante.automation.ui.delete'|trans
            })
        }}
    {% endif %}
{% endblock navButtons %}

{% block pageHeader %}
    {% set breadcrumbs = {
            'entity': entity,
            'indexPath': path('diamante_business_list'),
            'indexLabel': 'diamante.automation.rule.entity_plural_label'|trans,
            'entityTitle': entity.name|default('diamante.automation.common.not_available'|trans),
            'hasAvatar': true,
            'imagePath': null
        }
    %}
    {{ parent() }}
{% endblock pageHeader %}

{% block content_data %}
    {{ parent() }}
{% endblock content_data %}
